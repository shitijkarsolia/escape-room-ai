/* ================================================================
   AI Escape Room â€” Custom Styles
   Atmospheric effects, particles, animations, polish
   ================================================================ */

/* ---------------------------------------------------------------------------
   Particles (floating background effect)
   --------------------------------------------------------------------------- */
.particle {
    position: absolute;
    border-radius: 50%;
    background: currentColor;
    opacity: 0.15;
    animation: particleFloat linear infinite;
    pointer-events: none;
}

/* Theme-specific particle colors */
.theme-temple .particle { color: #d97706; }
.theme-space .particle { color: #06b6d4; }
.theme-haunted .particle { color: #a855f7; }

/* Default particles on lobby */
#particles .particle {
    color: #6b7280;
}

@keyframes particleFloat {
    0% {
        transform: translateY(0) translateX(0) scale(1);
        opacity: 0;
    }
    10% {
        opacity: 0.15;
    }
    90% {
        opacity: 0.15;
    }
    100% {
        transform: translateY(-100vh) translateX(50px) scale(0.5);
        opacity: 0;
    }
}

/* ---------------------------------------------------------------------------
   Background gradients per theme
   --------------------------------------------------------------------------- */
.theme-temple {
    background: radial-gradient(ellipse at bottom, rgba(120, 53, 15, 0.15) 0%, transparent 60%),
                radial-gradient(ellipse at top right, rgba(217, 119, 6, 0.05) 0%, transparent 50%),
                #030712;
}

.theme-space {
    background: radial-gradient(ellipse at top, rgba(8, 51, 68, 0.3) 0%, transparent 60%),
                radial-gradient(ellipse at bottom left, rgba(6, 182, 212, 0.05) 0%, transparent 50%),
                #030712;
}

.theme-haunted {
    background: radial-gradient(ellipse at bottom, rgba(59, 7, 100, 0.2) 0%, transparent 60%),
                radial-gradient(ellipse at top left, rgba(168, 85, 247, 0.05) 0%, transparent 50%),
                #030712;
}

/* ---------------------------------------------------------------------------
   Custom scrollbar
   --------------------------------------------------------------------------- */
::-webkit-scrollbar {
    width: 8px;
}
::-webkit-scrollbar-track {
    background: #111827;
}
::-webkit-scrollbar-thumb {
    background: #374151;
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: #4b5563;
}

/* ---------------------------------------------------------------------------
   Input focus glow
   --------------------------------------------------------------------------- */
#answer-input:focus {
    box-shadow: 0 0 0 1px var(--accent-color, #6b7280),
                0 0 15px var(--accent-color-alpha, rgba(107, 114, 128, 0.2));
    border-color: var(--accent-color, #6b7280);
}

/* ---------------------------------------------------------------------------
   Timer urgency pulse
   --------------------------------------------------------------------------- */
@keyframes timerPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

#timer.text-red-400 {
    animation: timerPulse 1s ease-in-out infinite;
}

/* ---------------------------------------------------------------------------
   Score popup
   --------------------------------------------------------------------------- */
.score-popup {
    animation: scoreFloat 1.2s ease-out forwards;
}

@keyframes scoreFloat {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -200%) scale(1.5);
    }
}

/* ---------------------------------------------------------------------------
   Theme card hover effects (lobby)
   --------------------------------------------------------------------------- */
.theme-card {
    cursor: pointer;
}

.theme-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    opacity: 0;
    transition: opacity 0.3s;
    pointer-events: none;
}

.theme-card[data-theme="temple"]::before {
    background: radial-gradient(circle at 50% 120%, rgba(217, 119, 6, 0.1) 0%, transparent 70%);
}
.theme-card[data-theme="space"]::before {
    background: radial-gradient(circle at 50% 120%, rgba(6, 182, 212, 0.1) 0%, transparent 70%);
}
.theme-card[data-theme="haunted"]::before {
    background: radial-gradient(circle at 50% 120%, rgba(168, 85, 247, 0.1) 0%, transparent 70%);
}

.theme-card:hover::before {
    opacity: 1;
}

/* ---------------------------------------------------------------------------
   Puzzle card glow
   --------------------------------------------------------------------------- */
#puzzle-card {
    transition: box-shadow 0.3s, opacity 0.5s, transform 0.5s;
}

/* ---------------------------------------------------------------------------
   Button disabled state
   --------------------------------------------------------------------------- */
button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* ---------------------------------------------------------------------------
   Smooth transitions for all interactive elements
   --------------------------------------------------------------------------- */
button, a, input {
    transition: all 0.2s ease;
}

/* ---------------------------------------------------------------------------
   Selection color
   --------------------------------------------------------------------------- */
::selection {
    background: var(--accent-color, #6b7280);
    color: #111827;
}

/* ---------------------------------------------------------------------------
   Responsive adjustments
   --------------------------------------------------------------------------- */
@media (max-width: 640px) {
    #puzzle-card {
        padding: 1.5rem;
    }

    .text-6xl {
        font-size: 2.5rem;
    }
}
