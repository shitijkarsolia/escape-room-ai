/* ================================================================
   AI Escape Room â€” Modern Design System
   ================================================================ */

/* ---------------------------------------------------------------------------
   Base
   --------------------------------------------------------------------------- */
* {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

::selection {
    background: var(--accent, #3b82f6);
    color: #09090b;
}

/* ---------------------------------------------------------------------------
   Scrollbar
   --------------------------------------------------------------------------- */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.15); }

/* ---------------------------------------------------------------------------
   Mesh gradient background
   --------------------------------------------------------------------------- */
#mesh-bg {
    background:
        radial-gradient(ellipse 80% 60% at 20% 80%, rgba(99, 102, 241, 0.06) 0%, transparent 60%),
        radial-gradient(ellipse 60% 80% at 80% 20%, rgba(139, 92, 246, 0.04) 0%, transparent 60%),
        radial-gradient(ellipse 50% 50% at 50% 50%, rgba(6, 182, 212, 0.03) 0%, transparent 60%);
}

/* ---------------------------------------------------------------------------
   Particles
   --------------------------------------------------------------------------- */
.particle {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.06);
    animation: particleDrift linear infinite;
    pointer-events: none;
}

@keyframes particleDrift {
    0% {
        transform: translateY(0) translateX(0);
        opacity: 0;
    }
    5% { opacity: 1; }
    95% { opacity: 1; }
    100% {
        transform: translateY(-100vh) translateX(30px);
        opacity: 0;
    }
}

/* ---------------------------------------------------------------------------
   Theme card hover
   --------------------------------------------------------------------------- */
.theme-card {
    cursor: pointer;
    transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}

.theme-card:hover {
    transform: translateY(-2px);
}

/* ---------------------------------------------------------------------------
   Input focus glow
   --------------------------------------------------------------------------- */
#answer-input:focus {
    box-shadow: 0 0 0 1px var(--accent, rgba(255,255,255,0.2)),
                0 0 20px -5px var(--accent-alpha, rgba(255,255,255,0.1));
    border-color: var(--accent, rgba(255,255,255,0.2));
    background: rgba(255, 255, 255, 0.06);
}

/* ---------------------------------------------------------------------------
   Timer urgency
   --------------------------------------------------------------------------- */
#timer.urgent {
    color: #f87171;
    animation: timerPulse 1s ease-in-out infinite;
}

#timer.warning {
    color: #fbbf24;
}

@keyframes timerPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* ---------------------------------------------------------------------------
   Feedback states
   --------------------------------------------------------------------------- */
.feedback-correct {
    background: rgba(34, 197, 94, 0.08);
    border-color: rgba(34, 197, 94, 0.2);
    color: #86efac;
}

.feedback-wrong {
    background: rgba(239, 68, 68, 0.08);
    border-color: rgba(239, 68, 68, 0.2);
    color: #fca5a5;
}

/* ---------------------------------------------------------------------------
   Score popup
   --------------------------------------------------------------------------- */
.score-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Space Grotesk', sans-serif;
    font-size: 3rem;
    font-weight: 700;
    color: var(--accent, #3b82f6);
    pointer-events: none;
    z-index: 100;
    animation: scoreRise 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes scoreRise {
    0% { opacity: 1; transform: translate(-50%, -50%) scale(0.8); }
    30% { transform: translate(-50%, -60%) scale(1.1); }
    100% { opacity: 0; transform: translate(-50%, -150%) scale(1); }
}

/* ---------------------------------------------------------------------------
   Button states
   --------------------------------------------------------------------------- */
button:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

button, a, input {
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

/* ---------------------------------------------------------------------------
   Responsive
   --------------------------------------------------------------------------- */
@media (max-width: 640px) {
    #puzzle-card { padding: 1.5rem; }
}
